using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Events;

//A classe GameEventListener recolhe e comunica os dados á classe GameEvent.
//Esta classe é adicionada a todos os objetos para que seja possivel invocar eventos.
public class GameEventListener : MonoBehaviour
{
    //Váriaveis que são preenchidas no Inspector. Estas contém o evento a ser invocado e a resposta se este ser invocado.
    [SerializeField] private GameEvent _Event;
    [SerializeField] private UnityEvent _Response;

    //Invoca o evento
    public void InvokeEvent()
    {
        _Response.Invoke();
    }

    //Se ativo, regista o evento
    private void OnEnable()
    {
        _Event.RegisterEvent(this);

        
    }

    //Se inativo remove o evento
    private void OnDisable()
    {
        _Event.UnregisterEvent(this);
    }
}
