using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[CreateAssetMenu(menuName = "Dialogue Event", fileName = "DialogueEvent")]
public class DialogueEvent : ScriptableObject
{
    readonly List<DialogueEventListener> _DialogueListener = new();

    public void Raise(TextAsset JsonFile, string DialoguePart)
    {
        foreach (var Listener in _DialogueListener)
        {
            DialogueManager.GetInstance().StartDialogue(JsonFile, DialoguePart);
        }
    }

    public void RegisterDialogueEvent(DialogueEventListener Listener)
    {
        if (!_DialogueListener.Contains(Listener))
        {
            _DialogueListener.Add(Listener);
        }
    }

    public void UnregisterDialogueEvent(DialogueEventListener Listener)
    {
        if (_DialogueListener.Contains(Listener))
        {
            _DialogueListener.Remove(Listener);
        }
    }
}
