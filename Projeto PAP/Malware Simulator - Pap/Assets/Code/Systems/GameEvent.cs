using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Events;

//Cria um Menu de criação de Eventos disponivel no Inspector.
[CreateAssetMenu(menuName = "Game Event", fileName = "Event")]
public class GameEvent : ScriptableObject
{
    //Lista de Ouvintes
    List<GameEventListener> _Listeners = new List<GameEventListener>();

    public void Invoke()
    {
        //Percorre todos os ouvintes
        foreach(var Listener in _Listeners)
        {
            Listener.RaiseEvent();
        }
    }

    public void RegisterEvent(GameEventListener Listener)
    {
        if (!_Listeners.Contains(Listener))
        {
            _Listeners.Add(Listener);
        }
    }

    public void UnregisterEvent(GameEventListener Listener)
    {
        if(_Listeners.Contains(Listener)) 
        { 
            _Listeners.Remove(Listener);
        }
    }



}
